/**
 * Build validation rules based on models specified in the green_light config
 */
<% if @rules %>
  $().ready(function() {
    $(".green_light").validate(<%= @rules.html_safe %>);
  });
<% end %>

/**
 * Custom code for regex validation
 */
$.validator.addMethod(
  "regex",
  function(value, element, regexp) {
    var check = false;
    var re = new RegExp(regexp);
    return this.optional(element) || re.test(value);
  },
  "You have entered an invalid value for this field"
);

